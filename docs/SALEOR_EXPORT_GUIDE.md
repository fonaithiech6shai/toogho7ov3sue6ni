# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —ç–∫—Å–ø–æ—Ä—Ç—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ Saleor

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Rozario –≤ —Ñ–æ—Ä–º–∞—Ç, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å Saleor —á–µ—Ä–µ–∑ GraphQL API.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π** —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π  
‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤** —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ SEO –¥–∞–Ω–Ω—ã–º–∏  
‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** (–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π) –ø—Ä–æ–¥—É–∫—Ç–æ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** —Ç–∏–ø–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å –±–∞—Ç—á–∞–º–∏ –∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏  
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞  
‚úÖ **CLI —É—Ç–∏–ª–∏—Ç–∞** –∏ Rake –∑–∞–¥–∞—á–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞  

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö Rozario ‚Üí Saleor

| Rozario | Saleor | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------|----------|
| `Category` | `Category` | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π |
| `Product` | `Product` | –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–∞ |
| `ProductComplect` | `ProductVariant` | –í–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞ (—Ä–∞–∑–º–µ—Ä—ã, —Ü–µ–Ω—ã) |
| `Complect` | –ê—Ç—Ä–∏–±—É—Ç—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ | –¢–∏–ø—ã –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π (standard, small, lux) |
| SEO –ø–æ–ª—è | SEO –ø–æ–ª—è | title, description, keywords |
| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | ProductMedia | URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lib/saleor_export/
‚îú‚îÄ‚îÄ saleor_research.rb      # –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏ GraphQL –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ product_exporter.rb     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞
‚îî‚îÄ‚îÄ export_cli.rb           # CLI —É—Ç–∏–ª–∏—Ç–∞

lib/tasks/
‚îî‚îÄ‚îÄ saleor_export.rake      # Rake –∑–∞–¥–∞—á–∏

docs/
‚îî‚îÄ‚îÄ SALEOR_EXPORT_GUIDE.md  # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ruby 2.7+ 
- –ê–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Rozario
- –î–æ—Å—Ç—É–ø –∫ Saleor GraphQL API
- –¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Saleor

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å rozario.eu.saleor.cloud

–°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –∏–Ω—Å—Ç–∞–Ω—Å–æ–º:
- **Endpoint**: `https://rozario.eu.saleor.cloud/graphql/`
- **Status**: GraphQL API –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- **Ready**: –ì–æ—Ç–æ–≤ –∫ –∏–º–ø–æ—Ä—Ç—É –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–∫–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Saleor

1. **–°–æ–∑–¥–∞–π—Ç–µ API —Ç–æ–∫–µ–Ω** –≤ –∞–¥–º–∏–Ω–∫–µ Saleor:
   - Settings ‚Üí Configuration ‚Üí API Access
   - Create new token with permissions:
     - `MANAGE_PRODUCTS`
     - `MANAGE_PRODUCT_TYPES_AND_ATTRIBUTES` 
     - `MANAGE_CATEGORIES`

2. **–ó–∞–ø–∏—à–∏—Ç–µ endpoint URL**:
   ```
   https://your-store.saleor.cloud/graphql/
   ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ß–µ—Ä–µ–∑ Rake –∑–∞–¥–∞—á–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
rake saleor:stats
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å rozario.eu.saleor.cloud
rake saleor:test_connection \
  SALEOR_ENDPOINT="https://rozario.eu.saleor.cloud/graphql/" \
  SALEOR_TOKEN="your_token_here"
```

#### –≠–∫—Å–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å rozario.eu.saleor.cloud
rake saleor:export_sample \
  SALEOR_ENDPOINT="https://rozario.eu.saleor.cloud/graphql/" \
  SALEOR_TOKEN="your_token_here"
```

#### –ü–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
```bash
rake saleor:export \
  SALEOR_ENDPOINT="https://your-store.saleor.cloud/graphql/" \
  SALEOR_TOKEN="your_token_here"
```

#### –≠–∫—Å–ø–æ—Ä—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–≤—ã—Ö 100 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
rake saleor:export \
  SALEOR_ENDPOINT="..." \
  SALEOR_TOKEN="..." \
  LIMIT=100

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
rake saleor:export \
  SALEOR_ENDPOINT="..." \
  SALEOR_TOKEN="..." \
  PRODUCT_IDS="1,2,3,10,15"

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–µ—Å–ª–∏ —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã)
rake saleor:export \
  SALEOR_ENDPOINT="..." \
  SALEOR_TOKEN="..." \
  SKIP_CATEGORIES=true
```

### 2. –ß–µ—Ä–µ–∑ CLI —É—Ç–∏–ª–∏—Ç—É

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å
ruby lib/saleor_export/export_cli.rb --help

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
ruby lib/saleor_export/export_cli.rb \
  --endpoint "https://your-store.saleor.cloud/graphql/" \
  --token "your_token" \
  --test-connection

# –ü–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
ruby lib/saleor_export/export_cli.rb \
  --endpoint "https://your-store.saleor.cloud/graphql/" \
  --token "your_token" \
  --batch-size 5 \
  --delay 1.5 \
  --log-file export.log

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
ruby lib/saleor_export/export_cli.rb \
  --endpoint "..." \
  --token "..." \
  --products 1,2,3 \
  --no-categories
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ –∏–∑ Ruby

```ruby
require_relative 'lib/saleor_export/product_exporter'

# –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞
exporter = SaleorProductExporter.new(
  'https://your-store.saleor.cloud/graphql/',
  'your_token_here',
  {
    logger: Logger.new(STDOUT),
    batch_size: 10,
    delay: 1
  }
)

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
if exporter.test_connection
  puts "‚úì Connection OK"
end

# –ü–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
result = exporter.export_all({
  export_categories: true,
  create_product_types: true,
  limit: 50
})

if result[:success]
  puts "Export completed in #{result[:duration]} seconds"
  puts "Stats: #{result[:stats]}"
else
  puts "Export failed: #{result[:error]}"
end

# –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
exporter.export_categories

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
product = Product.find(123)
exporter.export_product(product)
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Environment Variables

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|---------------|
| `SALEOR_ENDPOINT` | URL GraphQL API | - |
| `SALEOR_TOKEN` | –¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ | - |
| `LIMIT` | –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ | –í—Å–µ |
| `PRODUCT_IDS` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é | - |
| `BATCH_SIZE` | –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ | 10 |
| `DELAY` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Å–µ–∫) | 1 |
| `SKIP_CATEGORIES` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | false |
| `SKIP_PRODUCT_TYPES` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–∏–ø—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ | false |
| `DEBUG` | –í–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥ | false |
| `STATS_FILE` | –§–∞–π–ª –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | - |

### –û–ø—Ü–∏–∏ CLI

```bash
  -e, --endpoint URL           Saleor GraphQL endpoint
  -t, --token TOKEN            Authentication token
  -p, --products IDS           Export specific product IDs
  -l, --limit N                Limit number of products
  -b, --batch-size N           Batch size (default: 10)
  -d, --delay N                Delay between requests (default: 1)
      --no-categories          Skip categories export
      --no-product-types       Skip product types creation
      --log-file FILE          Log to file instead of STDOUT
      --debug                  Enable debug logging
      --stats FILE             Save statistics to file
      --test-connection        Test connection and exit
  -h, --help                   Show help
```

## –ü—Ä–æ—Ü–µ—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–∞

### –≠—Ç–∞–ø—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∫ Saleor API
2. **–≠–∫—Å–ø–æ—Ä—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π** (—Å–Ω–∞—á–∞–ª–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ, –∑–∞—Ç–µ–º –¥–æ—á–µ—Ä–Ω–∏–µ)
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤** (–¶–≤–µ—Ç—ã, –ö–æ–º–ø–æ–∑–∏—Ü–∏–∏, –ë—É–∫–µ—Ç—ã)
4. **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤** –±–∞—Ç—á–∞–º–∏
5. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
6. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **–ü—Ä–æ–ø—É—Å–∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–ü–æ–≤—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤** –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–±–æ—è—Ö
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
- **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã** –ø—Ä–∏ –µ–¥–∏–Ω–∏—á–Ω—ã—Ö —Å–±–æ—è—Ö

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏** –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è rate limits
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã**

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Saleor

### Product (–ü—Ä–æ–¥—É–∫—Ç)
```json
{
  "name": "–ë—É–∫–µ—Ç '–ù–µ–∂–Ω–æ—Å—Ç—å'",
  "slug": "bouquet-tenderness",
  "description": {
    "blocks": [
      {
        "type": "paragraph",
        "data": {
          "text": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞..."
        }
      }
    ]
  },
  "seoTitle": "SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  "seoDescription": "SEO –æ–ø–∏—Å–∞–Ω–∏–µ",
  "category": "category_id",
  "productType": "product_type_id",
  "weight": 0.5,
  "metadata": [
    {"key": "rozario_id", "value": "123"},
    {"key": "rozario_rating", "value": "5"},
    {"key": "rozario_color", "value": "–∫—Ä–∞—Å–Ω—ã–π"}
  ]
}
```

### ProductVariant (–í–∞—Ä–∏–∞–Ω—Ç)
```json
{
  "name": "–ë—É–∫–µ—Ç '–ù–µ–∂–Ω–æ—Å—Ç—å' - –°—Ç–∞–Ω–¥–∞—Ä—Ç",
  "sku": "123-1",
  "price": 2500,
  "costPrice": 1500,
  "weight": 0.5,
  "trackInventory": false,
  "metadata": [
    {"key": "rozario_complect_id", "value": "456"},
    {"key": "rozario_complect_type", "value": "standard"}
  ]
}
```

### Category (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
```json
{
  "name": "–ë—É–∫–µ—Ç—ã",
  "slug": "bouquets",
  "description": "–ö—Ä–∞—Å–∏–≤—ã–µ –±—É–∫–µ—Ç—ã –Ω–∞ –ª—é–±–æ–π —Å–ª—É—á–∞–π",
  "seoTitle": "–ë—É–∫–µ—Ç—ã —Ü–≤–µ—Ç–æ–≤",
  "seoDescription": "–ö—É–ø–∏—Ç—å –±—É–∫–µ—Ç—ã...",
  "parent": "parent_category_id",
  "backgroundImage": "https://rozarioflowers.ru/uploads/categories/bouquets.jpg"
}
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤

- **INFO**: –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–∞
- **DEBUG**: –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- **WARN**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–æ–ø—É—Å–∫–∏
- **ERROR**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞
```
[2024-01-15 10:30:00] INFO: SaleorProductExporter initialized: https://store.saleor.cloud/graphql/
[2024-01-15 10:30:01] INFO: Starting full export...
[2024-01-15 10:30:02] INFO: ‚úì Connection successful
[2024-01-15 10:30:03] INFO: Exporting categories...
[2024-01-15 10:30:04] INFO: Created category: –ë—É–∫–µ—Ç—ã (Y2F0ZWdvcnk6MQ==)
[2024-01-15 10:30:05] INFO: Categories export completed. Created: 15, Errors: 0
[2024-01-15 10:30:06] INFO: Creating product types...
[2024-01-15 10:30:07] INFO: Created product type: –¶–≤–µ—Ç—ã
[2024-01-15 10:30:08] INFO: Exporting products...
[2024-01-15 10:30:09] INFO: Found 1250 products to export
[2024-01-15 10:30:15] INFO: Created product: –ë—É–∫–µ—Ç '–†–æ–º–∞–Ω—Å' (UHJvZHVjdDoxMjM=)
[2024-01-15 10:30:16] DEBUG: Created variant: –ë—É–∫–µ—Ç '–†–æ–º–∞–Ω—Å' - –°—Ç–∞–Ω–¥–∞—Ä—Ç (123-1)
[2024-01-15 10:30:30] INFO: Progress: 100/1250 (8.0%)
...
[2024-01-15 11:45:00] INFO: === EXPORT STATISTICS ===
[2024-01-15 11:45:00] INFO: Duration: 4500.23 seconds
[2024-01-15 11:45:00] INFO: Categories: 15 created, 0 errors
[2024-01-15 11:45:00] INFO: Products: 1250 created, 5 errors
[2024-01-15 11:45:00] INFO: Variants: 3750 created, 12 errors
[2024-01-15 11:45:00] INFO: üéâ Export completed successfully!
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```ruby
{
  categories_processed: 15,
  categories_created: 15,
  categories_errors: 0,
  products_processed: 1255,
  products_created: 1250,
  products_errors: 5,
  variants_created: 3750,
  variants_errors: 12,
  start_time: 2024-01-15 10:30:00,
  duration: 4500.23
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–î—É–±–ª–∏–∫–∞—Ç—ã slug**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö slug
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π**: –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ü–µ–Ω—ã**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω—ã 0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. **Rate limiting**: –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
5. **–ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ slug**: –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∏–ª–∏ –∑–∞–º–µ–Ω–∞

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```ruby
# –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º
def validate_product(product)
  errors = []
  
  errors << "No name" if product.header.blank?
  errors << "No categories" if product.categories.empty?
  errors << "No variants" if product.product_complects.empty?
  
  return errors.empty?, errors
end
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

```ruby
# –í —Ñ–∞–π–ª–µ saleor_research.rb
def self.map_product(rozario_product, category_id, product_type_id)
  {
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    customField: rozario_product.custom_attribute,
    metadata: [
      # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
      { key: "custom_field", value: rozario_product.custom_value }
    ]
  }
end
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞

```ruby
# –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
def determine_product_type(rozario_product)
  category = rozario_product.categories.first
  
  case category&.title
  when /–±—É–∫–µ—Ç/i
    @product_type_mapping["–ë—É–∫–µ—Ç—ã"]
  when /–∫–æ–º–ø–æ–∑–∏—Ü/i
    @product_type_mapping["–ö–æ–º–ø–æ–∑–∏—Ü–∏–∏"]
  else
    @product_type_mapping["–¶–≤–µ—Ç—ã"]
  end
end
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Connection timeout
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏
rake saleor:export DELAY=3 BATCH_SIZE=5
```

### –ü—Ä–æ–±–ª–µ–º–∞: Authentication failed
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
rake saleor:test_connection SALEOR_TOKEN="new_token"
```

### –ü—Ä–æ–±–ª–µ–º–∞: Duplicate slug
```ruby
# –í –ª–æ–≥–∞—Ö –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
# –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö slug
```

### –ü—Ä–æ–±–ª–µ–º–∞: Memory issues
```bash
# –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞
rake saleor:export BATCH_SIZE=1 LIMIT=100
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
tail -f export.log | grep "Progress:"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å watch –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
watch -n 10 "grep 'Created product:' export.log | wc -l"
```

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
# –ü–æ–¥—Å—á–µ—Ç —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
grep "Created product:" export.log | wc -l
grep "Created category:" export.log | wc -l
grep "Created variant:" export.log | wc -l

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" export.log
grep "Failed to" export.log
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–∑ Rozario –≤ Saleor —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:

- ‚úÖ –í—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (–ø—Ä–æ–¥—É–∫—Ç—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –≤–∞—Ä–∏–∞–Ω—Ç—ã)
- ‚úÖ –ì–∏–±–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞–¥–µ–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –£–¥–æ–±–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (CLI, Rake, API)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–∞–∑—ã: `rake saleor:stats`
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `rake saleor:test_connection`
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç: `rake saleor:export_sample`
4. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
